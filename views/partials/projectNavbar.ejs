<style>
    /* ======================================
       1) 상단 고정 + 그림자 + 여백
    ====================================== */
    body {
        color: #042b6e;
        /* 네비게이션이 고정되므로, 
         본문 내용이 가려지지 않게 위쪽 여백 추가 */
        padding-top: 70px;
        /* 네비 높이에 맞게 조절 (예: 70px) */
    }

    /* 고정된 네비에 그림자 추가 → 경계 확실 */
    .navbar-fixed-top {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 9999;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        /* 약간의 그림자 */
        /* 배경이 완전히 투명이라면, 
         .bg-transparent를 유지하거나 원하는 배경색 지정 */
    }

    /* 로고와 햄버거 수직 중앙 정렬 */
    .navbar-brand,
    .navbar-toggler {
        align-self: center !important;
    }

    .navbar-brand img {
        display: block;
        width: 250px;
    }

    /* 2줄짜리 햄버거 아이콘 */
    .navbar-toggler {
        position: relative;
        z-index: 1050;
        border: none;
        padding: 0.5rem;
    }

    .navbar-toggler-icon {
        background-image: none !important;
        /* Bootstrap 기본 배경 제거 */
        width: 25px;
        height: 4px;
        background-color: #042b6e;
        display: inline-block;
        position: relative;
        border-radius: 2px;
    }

    .navbar-toggler-icon::before {
        content: "";
        position: absolute;
        top: 8px;
        left: 0;
        width: 25px;
        height: 4px;
        background-color: #042b6e;
        border-radius: 2px;
    }

    /* ======================================
       2) 부가 스타일
    ====================================== */
    .cheif {
        margin-bottom: 10px;
    }

    .mb-0 {
        color: #042b6e;
        font-size: 12px;
    }

    .menu-title {
        color: #042b6e;
        font-size: 20px;
        margin-bottom: 20px;
    }

    /* 반응형에서 로고/햄버거 간격 */
    @media (min-width: 768px) {
        .navbar-brand {
            margin-left: 20px;
        }

        .navbar-toggler {
            margin-right: 20px;
        }

        .cheif {
            margin-bottom: 20px;
        }
    }

    /* 오프캔버스 배경이미지 */
    .offcanvas-custom-bg {
        background: url('/uploads/sidebar.png') no-repeat center center / cover;
    }

    /* 오프캔버스 내용 수직 정렬 + 여백 제거 */
    .offcanvas-body {
        overflow: visible !important;
        /* 네모 등이 튀어나가도 보이도록 */
        padding: 0;
    }

    /* 메인 메뉴 블록 (네모 + 제목 + 구분선) */
    .menu-block {
        position: relative;
        border-bottom: 2px solid #042b6e;
        margin-bottom: 2rem;
        padding-bottom: 2rem;
        padding-left: 80px;
        /* 네모 폭 확보 */
    }

    .menu-block::before {
        content: "";
        position: absolute;
        top: 8px;
        left: 0;
        width: 50px;
        /* 네모 가로 폭 */
        height: 20px;
        background: #042b6e;
    }

    .menu-title {
        display: inline-block;
        font-weight: bold;
        transition: transform 0.3s ease;
        cursor: pointer;
    }

    .menu-title:hover {
        transform: scale(1.05);
    }

    /* 서브 항목(세로 배치) */
    .sub-list {
        margin-left: 0;
    }

    .sub-item {
        display: inline-block;
        margin-bottom: 8px;
        color: #042b6e;
        text-decoration: none;
        position: relative;
        overflow: hidden;
        transition: color 0.3s ease;
    }

    .sub-item::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -1px;
        width: 100%;
        height: 2px;
        background-color: #042b6e;
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
    }

    .sub-item:hover::after {
        transform: scaleX(1);
    }

    /* Projects/Contact 토글 */
    .collapse-list {
        display: none;
        /* 기본 숨김 */
    }

    .collapse-list.show {
        display: block;
        /* 표시 */
    }

    /* 모바일에서 오프캔버스 폭 줄이기: 70% */
    @media (max-width: 768px) {
        #offcanvasRight.offcanvas-end {
            width: 70% !important;
            max-width: none !important;
        }
    }
</style>
</head>

<body>
    <!-- 
       .navbar-light .bg-transparent → 
       .navbar-fixed-top (추가) → 상단 고정 + 그림자
       background: 투명 or 원하는 색 (유지)
  -->
    <nav class="navbar navbar-fixed-top" style="background-color: white !important;">
        <div class="container-fluid d-flex align-items-center justify-content-between" style="padding: 0;">
            <!-- 로고 -->
            <a class="navbar-brand fw-bold" href="/">
                <img src="/uploads/logo.png" alt="Studio Oven" />
            </a>

            <!-- 햄버거 버튼 -->
            <button id="menuToggle" class="navbar-toggler d-block ms-auto me-1 d-flex align-items-center" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- 오프캔버스 -->
            <div class="offcanvas offcanvas-end offcanvas-custom-bg" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasRight">
                <div class="offcanvas-header mt-5">
                    <h5 class="offcanvas-title"></h5>
                </div>

                <div class="offcanvas-body d-flex flex-column">
                    <!-- About us: 기본 펼쳐짐 -->
                    <div class="menu-block">
                        <div class="menu-title">About us</div>
                        <div class="sub-list">
                            <a class="sub-item" href="#">studio.Oven</a><br />
                            <a class="sub-item" href="#">history</a><br />
                            <a class="sub-item" href="#">organization</a>
                        </div>
                    </div>

                    <!-- Projects: 클릭 시 서브 항목 보이기/숨기기 -->
                    <div class="menu-block">
                        <div class="menu-title" data-target="#projectsSub">Projects</div>
                        <div id="projectsSub" class="sub-list collapse-list">
                                <% category.forEach(item=> { %>
                                    <% if(item.id !==1) { %>
                                        <a class="sub-item" href="/project?id=<%= item.id %>">
                                            <%= item.categoryName %>
                                        </a>
                                        <br />
                                        <% } %>
                                            <% }) %>
                        </div>
                    </div>

                    <!-- Contact: 클릭 시 서브 항목 보이기/숨기기 -->
                    <div class="menu-block">
                        <div class="menu-title" data-target="#contactSub">Contact</div>
                        <div id="contactSub" class="sub-list collapse-list">
                            <a class="sub-item" href="#">Email</a><br />
                            <a class="sub-item" href="#">Telephone</a><br />
                            <a class="sub-item" href="#">Directions</a>
                        </div>
                    </div>

                    <!-- 하단 문구 -->
                    <div class="mt-auto text-center p-2 cheif">
                        <p class="mb-0">
                            대표자 | 서정일 Jeong-il Seo / 이강민 Kang-min Lee
                        </p>
                        <p class="mb-0">
                            사업자등록번호 | 323 - 20 - 02200
                        </p>
                    </div>
                </div>
            </div>
            <!-- offcanvas 끝 -->
        </div>
    </nav>

    <!-- 컨텐츠 예시 (스크롤 테스트용) -->


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const menuToggle = document.getElementById("menuToggle");
            const offcanvasElement = document.getElementById("offcanvasRight");
            const offcanvasMenu = new bootstrap.Offcanvas(offcanvasElement);

            // 햄버거 열고 닫기
            menuToggle.addEventListener("click", function () {
                if (offcanvasElement.classList.contains("show")) {
                    offcanvasMenu.hide();
                } else {
                    offcanvasMenu.show();
                }
            });

            // Projects/Contact → 제목 클릭 시 서브 항목 show/hide
            document
                .querySelectorAll(".menu-title[data-target]")
                .forEach(title => {
                    title.addEventListener("click", function () {
                        const targetId = this.getAttribute("data-target");
                        const targetEl = document.querySelector(targetId);
                        if (!targetEl) return;
                        targetEl.classList.toggle("show");
                    });
                });
        });
    </script>