<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>스튜디오 오븐</title>

  <!-- 메타 태그 -->
  <meta name="description" content="스튜디오 오븐 — 다양한 인테리어 프로젝트를 소개합니다.">
  <meta name="keywords" content="스튜디오, 오븐, studio.oven, 인테리어, 만화카페, 디자인 스튜디오, 인테리어 공사, 인테리어 시공">
  <meta property="og:title" content="studio.Oven">
  <meta property="og:description" content="스튜디오 오븐 — 인테리어 공사 전문 업체">
  <meta property="og:url" content="https://freelancing-git-main-leeminjes-projects.vercel.app/">
  <meta property="og:image" content="https://xjoospswraznhebpbavk.supabase.co/storage/v1/object/public/studiooven//mainlogo.webp">

  <!-- 메인페이지 지정 -->
  <link rel="canonical" href="https://www.dubbingnow.com/" />
  <link rel="icon" href="https://xjoospswraznhebpbavk.supabase.co/storage/v1/object/public/studiooven//favicon.webp">

  <!-- 프로젝트 스타일 -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

<%- include('partials/mainNavbar') %>

<header>
  <p id="aboutTitle"
    class="title-bold text-center mt-5"
    style="color:#042b6e;"
  >
    About us
  </p>
  <!-- 여기서 상단 메뉴 & “About us”를 한 세트로 -->
  <div class="container d-flex flex-wrap align-items-center justify-content-around gap-4">
    <!-- About us: G마켓 산스 Bold, 더 큰 폰트 -->

    <!-- studio.Oven: G마켓 산스 Medium -->
    <span
      class="title-medium menu-item active-pill"
      style="color:#042b6e; cursor:pointer;"
      data-section="about"
    >
      studio.Oven
    </span>

    <!-- 나머지 메뉴 (ci, History, organization) -->
    <span class="title-medium menu-item" style="color:#042b6e; cursor:pointer;" data-section="ci">
      ci
    </span>
    <span class="title-medium menu-item" style="color:#042b6e; cursor:pointer;" data-section="history">
      History
    </span>
    <span class="title-medium menu-item" style="color:#042b6e; cursor:pointer;" data-section="org">
      organization
    </span>
  </div>
</header>

<style>
  @font-face {
    font-family: 'Pretendard Variable Light';
    src: url('/fonts/Pretendard-Light.ttf') format('truetype');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'Pretendard Variable Medium';
    src: url('/fonts/Pretendard-Medium.ttf') format('truetype');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'Pretendard Variable Bold';
    src: url('/fonts/Pretendard-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'Pretendard Variable SemiBold';
    src: url('/fonts/Pretendard-SemiBold.otf') format('opentype');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
  }

  /* 기본 글꼴 */
  body {
    margin: 0;
    font-family: 'GmarketSansLight', sans-serif;
    color: #042b6e;
  }
  h1, h2, h3, h4, h5, h6 {
    margin: 0;
    padding: 0;
  }

  .title-medium {
    font-family: 'GmarketSansMedium', sans-serif;
  }
  .title-bold {
    font-family: 'GmarketSansBold', sans-serif;
  }

  /* About us 제목 기본 2.5rem */
  #aboutTitle {
    font-size: 2.5rem;
  }

  /* (새로) Company Organization 제목: PC 2.5rem */
  #orgTitle {
    font-family: 'GmarketSansBold', sans-serif;
    font-weight: 700;
    font-size: 2.5rem;  /* PC 기본 */
    color: #042b6e;
    margin-bottom: 0.5rem;
  }

  .pretendard-bold { font-weight: 700; }
  .pretendard-medium { font-weight: 500; }
  .pretendard-light { font-weight: 300; }

  .menu-item {
    position: relative;
    display: inline-block;
    text-decoration: none;
    transition: color 0.3s ease;
    padding: 2px 6px;
    font-size: 1.3rem !important; /* PC 기본 폰트크기 */
  }
  .menu-item::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 0%;
    height: 2px;
    background-color: #042b6e;
    transition: width 0.3s ease;
    transform: translateY(3px);
  }
  .menu-item:hover::after {
    width: 100%;
  }
  .active-pill {
    background-color: #042b6e;
    color: #ffffff !important;
    border-radius: 9999px;
    padding: 0.3rem 1rem;
    position: relative;
    transform: scale(1.07);
    transition: all 0.3s ease; 
  }
  .active-pill::after {
    display: none;
  }

  /* (기타) */

  /* About(기본) / History / Organization 전환 */
  #aboutSection {
    display: block; /* 초기 표시 */
  }

  /* 반응형: 메뉴 폰트만 줄이기 */
  @media (max-width: 576px) {
    .menu-item {
      font-size: 0.9rem !important;
    }
    #aboutTitle {
      font-size: 1.8rem;
    }
    /* Company Organization 폰트 모바일에서 작게 */
    #orgTitle {
      font-size: 1.5rem !important;
    }
    .active-pill {
      padding: 0.3rem 0.6rem;
    }
  }
  @media (max-width: 400px) {
    .menu-item {
      font-size: 0.9rem !important;
    }
    #aboutTitle {
      font-size: 1.8rem;
    }
    /* orgTitle 더 작게 조정할거면 아래도 가능 */
    #orgTitle {
      font-size: 1.5rem !important;
    }
    .active-pill {
      padding: 0.3rem 0.1rem;
    }
  }

  /* fade in/out 애니메이션 */
  .fade-in {
    animation: fadeIn 0.3s forwards;
  }
  .fade-out {
    animation: fadeOut 0.3s forwards;
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  @keyframes fadeOut {
    from { opacity: 1; }
    to   { opacity: 0; }
  }
</style>

<!-- 탭 전환 영역 -->
<div class="container d-flex flex-wrap justify-content-around gap-4 mb-5"></div>

<!-- 메인 컨텐츠 영역 -->
<main>
  <!-- (A) About us 부분 -->
  <div id="aboutSection">
    <%- include('partials/studio-oven') %>
  </div>

  <!-- (B) History 부분 (기본적으로 hidden) -->
  <div id="historySection" style="display:none; min-height:100vh;">
    <div class="history-content-wrap">
      <%- include('partials/history') %>
    </div>
  </div>

  <!-- (C) Organization 부분 -->
  <div id="orgSection" style="display:none; min-height:100vh;">
    <div style="text-align: center; margin-bottom: 2rem;">
      <!-- orgTitle id 선언 → PC 2.5rem, 모바일 1.5rem -->
      <h2 id="orgTitle">
        Company Organization
      </h2>
    </div>

    <!-- 조직도 이미지 -->
    <div style="text-align:center;">
      <img
        src="https://xjoospswraznhebpbavk.supabase.co/storage/v1/object/public/studiooven//organization.webp"
        alt="organization"
        style="max-width: 90%; height: auto;"
      />
    </div>
  </div>

  <!-- (D) CI 부분 -->
  <div id="ciSection" style="display:none; min-height:100vh;">
    <%- include('partials/ci') %>
  </div>

  <footer>
    <%- include('partials/footer') %>
  </footer>
</main>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- 탭 전환 & defaultTab 로직 -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const defaultTab = "<%= defaultTab %>"; 

    const aboutSection   = document.getElementById('aboutSection');
    const historySection = document.getElementById('historySection');
    const orgSection     = document.getElementById('orgSection');
    const ciSection      = document.getElementById('ciSection');

    const menuItems = document.querySelectorAll('.menu-item');

    let currentSection = aboutSection;
    aboutSection.style.display   = 'none';
    historySection.style.display = 'none';
    orgSection.style.display     = 'none';
    ciSection.style.display      = 'none';

    let initialSection = aboutSection; 
    let initialDataSec = 'about';      

    switch (defaultTab) {
      case 'ci':         initialSection = ciSection;      initialDataSec = 'ci';         break;
      case 'history':    initialSection = historySection; initialDataSec = 'history';    break;
      case 'organization': initialSection = orgSection;   initialDataSec = 'org';        break;
      default:
        // "studio-oven" or etc → about
        initialSection = aboutSection;
        initialDataSec = 'about';
        break;
    }

    // 보여주기
    initialSection.style.display = 'block';
    currentSection = initialSection;

    // 탭 active-pill
    menuItems.forEach(mi => {
      mi.classList.remove('active-pill');
      if (mi.getAttribute('data-section') === initialDataSec) {
        mi.classList.add('active-pill');
      }
    });

    // 탭 전환 (fade)
    menuItems.forEach(item => {
      item.addEventListener('click', function() {
        menuItems.forEach(m => m.classList.remove('active-pill'));
        this.classList.add('active-pill');

        const target = this.getAttribute('data-section');
        let newSection;
        if (target === 'ci') {
          newSection = ciSection;
        } else if (target === 'history') {
          newSection = historySection;
        } else if (target === 'org') {
          newSection = orgSection;
        } else {
          newSection = aboutSection;
        }

        if (currentSection === newSection) return;

        currentSection.classList.remove('fade-in');
        currentSection.classList.add('fade-out');

        currentSection.addEventListener('animationend', function handleFadeOut() {
          currentSection.style.display = 'none';
          currentSection.classList.remove('fade-out');
          currentSection.removeEventListener('animationend', handleFadeOut);

          newSection.style.display = 'block';
          newSection.classList.add('fade-in');
          currentSection = newSection;
        }, { once: true });
      });
    });
  });
</script>
</body>
</html>